programa ejemplo
procesos
  proceso juntarFloresYMover(ES cantFlores: numero)
  comenzar
    mientras (HayFlorEnLaEsquina)
      tomarFlor
      cantFlores:= cantFlores + 1
    mover
  fin
  
  proceso depositarTodasLasFlores (ES cantFloresDepositadas: numero)
  comenzar
    mientras(HayFlorEnLaBolsa)
      depositarFlor 
      cantFloresDepositadas:= cantFloresDepositadas + 1
  fin
  
  proceso juntarTodasLasFlores (ES cantFlores: numero; E cantFloresDepositadas: numero)
  comenzar
    repetir cantFloresDepositadas
      si (HayFlorEnLaEsquina)
        tomarFlor
        cantFlores:= cantFlores + 1
  fin
  
  
areas
  areaCosechador: AreaP (1,5,1,5)
  areaRecolector1: AreaP (1,3,100,3)
  areaRecolector2: AreaP (1,4,100,4)
  areaDeposito: AreaC (10,10,10,10)
  
  
robots
  robot recolector
  variables
    cantFlores: numero
    cantEsq: numero
    avInicial, caInicial: numero
    cantFloresDepositadas: numero
  comenzar
    cantFlores:= 0
    cantEsq:= 1
    derecha
    mientras (PosAv < 100)
      mientras (HayFlorEnLaEsquina)
        tomarFlor
        cantFlores:= cantFlores + 1
      mover
      cantEsq:= cantEsq + 1
      
      si (PosAv = 100)
        mientras (HayFlorEnLaEsquina)
          tomarFlor
          cantFlores:= cantFlores + 1
          
      si ((cantFlores = 10) | (cantEsq = 5))
        avInicial:= PosAv
        caInicial:= PosCa
        cantEsq:= 1
        cantFlores:= 0
        BloquearEsquina(10,10)
        Pos(10,10)
        depositarTodasLasFlores(cantFloresDepositadas)
        Pos(avInicial, caInicial)
        LiberarEsquina(10,10)
        EnviarMensaje(cantFloresDepositadas, robotCosechador)
    
    EnviarMensaje(0, robotCosechador)
        
  fin
  
  robot cosechador
  variables
    intentar: boolean
    avInicial, caInicial: numero
    cantFlores, cantTotalFlores, cantFloresDepositadas: numero
    robotsTerminados: numero
  comenzar
    avInicial:= PosAv
    caInicial:= PosCa
    cantTotalFlores:= 0
    cantFloresDepositadas:= 0
    robotsTerminados:= 0
    mientras (robotsTerminados < 2)
      RecibirMensaje(cantFloresDepositadas, *)
      si (cantFloresDepositadas = 0)
        robotsTerminados:= robotsTerminados + 1
      sino
        cantFlores:= 0
        BloquearEsquina(10,10)
        Pos(10,10)
        juntarTodasLasFlores(cantFlores, cantFloresDepositadas)
        cantTotalFlores:= cantTotalFlores + cantFlores
        Pos(avInicial, caInicial)
        LiberarEsquina(10,10)
    
    Informar(cantTotalFlores)
  fin
  
variables
  robotCosechador: cosechador
  robotRecolector1: recolector
  robotRecolector2: recolector
comenzar
  AsignarArea(robotCosechador, areaCosechador)
  AsignarArea(robotRecolector1, areaRecolector1)
  AsignarArea(robotRecolector2, areaRecolector2)
  AsignarArea(robotCosechador, areaDeposito)
  AsignarArea(robotRecolector1, areaDeposito)
  AsignarArea(robotRecolector2, areaDeposito)
  Iniciar(robotCosechador, 1,5)
  Iniciar(robotRecolector1, 1,3)
  Iniciar(robotRecolector2, 1,4)
fin
