programa ejemplo

procesos
  proceso juntarFloresAvenida (ES cantFlores: numero)
  comenzar
    mientras (PosCa < 100)
      mientras (HayFlorEnLaEsquina)
        tomarFlor
        cantFlores:= cantFlores + 1
      mover
    mientras (HayFlorEnLaEsquina)
      tomarFlor
      cantFlores:= cantFlores + 1
  fin  
  
  proceso juntarPapelesCalle (ES cantPapeles: numero)
  comenzar
    mientras (PosAv < 100)
      mientras (HayPapelEnLaEsquina)
        tomarPapel
        cantPapeles:= cantPapeles + 1
      mover
    mientras(HayPapelEnLaEsquina)
      tomarPapel
      cantPapeles:= cantPapeles + 1
  fin
  
areas
  areaR1: AreaP (2,1,2,100)
  areaR2: AreaP (3,1,3,100)
  areaA1: AreaP (1,98,100,98)
  areaA2: AreaP (1,99,100,99)
  areaFisc: AreaP (50,50,50,50)
  
robots
  robot rojo
  variables
    cantTotalFlores: numero
    quienSoy: numero
  comenzar
    RecibirMensaje(quienSoy, fisc)
    juntarFloresAvenida(cantTotalFlores)
    EnviarMensaje(quienSoy, fisc)
    EnviarMensaje(cantTotalFlores, fisc)
  fin
  
  robot azul
  variables
    cantTotalPapeles: numero
    quienSoy: numero
  comenzar
    RecibirMensaje(quienSoy, fisc)
    derecha
    juntarPapelesCalle(cantTotalPapeles)
    EnviarMensaje(quienSoy, fisc)
    EnviarMensaje(cantTotalPapeles, fisc)
  fin
  
  robot fiscalizador
  variables
    totalEquipoRojo, totalEquipoAzul: numero
    cantFlores, cantPapeles: numero
    ID: numero
  comenzar
    totalEquipoRojo:= 0
    totalEquipoAzul:= 0
    EnviarMensaje(1, R1)
    EnviarMensaje(2, R2)
    EnviarMensaje(3, A1)
    EnviarMensaje(4, A2)
    repetir 4
      RecibirMensaje(ID, *)
      si (ID = 1)
        RecibirMensaje(cantFlores, R1)
        totalEquipoRojo:= totalEquipoRojo + cantFlores
      sino
        si (ID = 2)
          RecibirMensaje(cantFlores, R2)
          totalEquipoRojo:= totalEquipoRojo + cantFlores
        sino
          si (ID = 3)
            RecibirMensaje(cantPapeles, A1)
            totalEquipoAzul:= totalEquipoAzul + cantPapeles
          sino
            RecibirMensaje(cantPapeles, A2)
            totalEquipoAzul:= totalEquipoAzul + cantPapeles
    
    { Asumo que: EQUIPO AZUL = 1 | EQUIPO ROJO = 2 | EMPATE = 0}
    si (totalEquipoAzul > totalEquipoRojo)
      Informar(1)
    sino
      si (totalEquipoRojo > totalEquipoAzul)
        Informar(2)
      sino
        Informar(0)
  fin
  
variables
  R1: rojo
  R2: rojo
  A1: azul
  A2: azul
  fisc: fiscalizador
comenzar
  AsignarArea(R1, areaR1)
  AsignarArea(R2, areaR2)
  AsignarArea(A1, areaA1)
  AsignarArea(A2, areaA2)
  AsignarArea(fisc, areaFisc)
  Iniciar(R1, 2,1)
  Iniciar(R2, 3,1)
  Iniciar(A1, 1,98)
  Iniciar(A2, 1,99)
  Iniciar(fisc, 50,50)
fin
